<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TP - Plugin javascript</title>
    <link rel="stylesheet" href="https://danyellow.net/cours-mmi/reset.css" />
    <link
      rel="stylesheet"
      href="https://danyellow.net/cours-mmi/consignes.css"
    />
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <header>
        <details class="consignes-conteneur">
            <summary>
              <h1 class="h1">
                Pré-consignes de la pratique - facultatives (cliquer pour afficher /
                cacher)
              </h1>
            </summary>
            <ol class="liste-consignes">
              <li>
                Créez un nouveau fichier html (avec la structure de base d'un site
                web. Rappel, vous avez le raccourci "html:5")
              </li>
              <li>
                Copiez la balise &lt;main> (et son contenu) dans le fichier HTML que
                vous venez de créer (si elle existe)
              </li>
              <li>
                Copiez les balises &lt;link> présentes dans le &lt;head> dans le
                fichier html que vous venez de créer
              </li>
              <li>Sauvegardez-le et commencez votre TP dedans</li>
            </ol>
          </details>
      <details class="consignes-conteneur" open>
        <summary>
          <h1 class="h1">
            Partie 1 (cliquer pour afficher / cacher)
          </h1>
        </summary>
        <p class="note-information">chartjs une bibliothèque javascript permettant d'afficher facilement des graphiques à partir de données fournies.</p>

        <ol class="liste-consignes">
          <li>
            <a target="_blank" rel="noopener" href="https://www.chartjs.org/docs/latest/getting-started/">
              Suivez le didacticiel de chartjs (ouveture dans un nouvel onglet)</a>
            et essayez d'afficher quelques graphiques. Une fois suffisamment à
            l'aise avec la bibliothèque passez à la partie suivante.
          </li>
        </ol>
        <p class="note-information">
            N'oubliez pas de mettre en premier le script qui charge chartjs puis votre balise script. Sinon, l'appel des fonctions chartjs lèveront une erreur.
        </p>
      </details>

      <details class="consignes-conteneur">
        <summary>
          <h1 class="h1">
            Partie 2 (cliquer pour afficher / cacher)
          </h1>
        </summary>
        <ol class="liste-consignes">
          <li>
            Utilisez les données du fichier "donnees-courbe.js" et affichez une
            courbe. Le fichier contient l'évolution des naissances du prénom
            Pauline de 1900 à nos jours
            <ul>
              <li>
                <a
                  href="https://www.chartjs.org/docs/latest/charts/line.html"
                  target="_blank"
                >
                  Voir documentation du graphique en bâtons de chartjs
                  (ouverture dans un nouvel onglet)
                </a>
              </li>
              <li>
                Astuce 2 : pour utiliser ces données, il faudra les formater,
                voici le code qu'il faudra utiliser :
                <pre>
                  <code id="htmlViewer" style="color:rgb(192, 197, 206); font-weight:400;background-color:rgb(43, 48, 59);background:rgb(43, 48, 59);display:block;padding: .5em;"><span style="color:rgb(180, 142, 173); font-weight:400;">let</span> data = prenomPauline.map(<span style="color:rgb(192, 197, 206); font-weight:400;">(<span style="color:rgb(208, 135, 112); font-weight:400;">item</span>) =&gt;</span> item.nombre) <span style="color:rgb(101, 115, 126); font-weight:400;">// Donnée, propriété data</span>
<span style="color:rgb(180, 142, 173); font-weight:400;">let</span> listeAnnees = prenomPauline.map(<span style="color:rgb(192, 197, 206); font-weight:400;">(<span style="color:rgb(208, 135, 112); font-weight:400;">item</span>) =&gt;</span> item.annais) <span style="color:rgb(101, 115, 126); font-weight:400;">// Libellé, propriété labels</span></code></pre>

                Ensuite, il faudra les utiliser pour les bons paramètres pour
                afficher le graphique.
              </li>
            </ul>
          </li>
          <li>
            Utilisez les données du fichier "donnees-batons.js" et affichez un
            graphique en bâtons
            <ul>
              <li>
                <a
                  href="https://www.chartjs.org/docs/latest/charts/bar.html"
                  target="_blank"
                >
                  Voir documentation du graphique en bâtons de chartjs
                  (ouverture dans un nouvel onglet)
                </a>
              </li>
              <li>
                Le fichier contient toutes les naissances du prénom "Jérôme" en
                Ile-de-France durant l'année 2005
              </li>
              <li>
                Astuce : pour utiliser ces données, il faudra les formater,
                voici le code qu'il faudra utiliser :
                <pre>
                <code id="htmlViewer" style="color:rgb(255, 255, 255); font-weight:400;background-color:rgb(0, 36, 81);background:rgb(0, 36, 81);display:block;padding: .5em;">let data = prenomJerome2005.map(<span style="color:rgb(255, 255, 255); font-weight:400;"><span style="color:rgb(255, 197, 143); font-weight:400;">(item)</span> =&gt;</span> item.nombre)
        let labels = prenomJerome2005.map(<span style="color:rgb(255, 255, 255); font-weight:400;"><span style="color:rgb(255, 197, 143); font-weight:400;">(item)</span> =&gt;</span> item.dpt)</code></pre>
                Ensuite, il faudra les utiliser pour les bons paramètres pour
                afficher le graphique.
              </li>
            </ul>
          </li>
        </ol>
        <p class="note-information">
            Pensez à charger les scripts contenant les données ("donnees-batons.js" et "donnees-courbe.js") avant votre script chartjs, ainsi vous pourrez accéder aux variables contenues dans les fichiers de données.
        </p>
      </details>

      <details class="consignes-conteneur">
        <summary>
          <h1 class="h1">
            Partie 3 (cliquer pour afficher / cacher)
          </h1>
        </summary>
        <p class="note-information">lodash est une bibliothèque javascript offrant plein de fonctions permettant de manipuler les tableaux ou tableaux d'objets.</p>
        <ol class="liste-consignes">
          <li>
            Chargez la bibliothèque javascript lodash, expérimentez-la en regardant la documentation et en écrivant du code lié au plugin puis passez à la partie suivante
            <ul>
                <li><a href="https://raw.githubusercontent.com/lodash/lodash/4.17.15-npm/lodash.js" target="_blank">Télécharger lodash (ouverture dans un nouvel onglet)</a> - Pensez bien à sauvegarder le fichier, il ne faut pas le charger depuis l'url mais en local</li>
                <li><a href="https://lodash.com/docs/4.17.15" target="_blank">Voir documentation de lodash (ouverture dans un nouvel onglet)</a></li>
            </ul>
          </li>
          <li>
            Réalisez les tâches suivantes avec le contenu du fichier "lodash-data.js" grâce à lodashjs. Le contenu est accessible via une variable nommée "data". Pensez bien à afficher le résultat grâce à "console.log()"
            <ul>
                <li>
                    Retournez toutes les naissances de l'année 1994. <a href="https://lodash.com/docs/4.17.15#filter" target="_blank">Utilisation de la fonction filter.</a>
                </li>
                <li>
                    Retournez toutes les naissances dont le nombre de naissances est supérieur à 1200. <a href="https://lodash.com/docs/4.17.15#filter" target="_blank">Utilisation de la fonction filter.</a>
                </li>
                <li>
                    Retournez le prénom le plus donné chez les filles (2) pour l'année 2004 <a href="https://lodash.com/docs/4.17.15#filter" target="_blank">Utilisation de la fonction filter.</a> + <a href="https://lodash.com/docs/4.17.15#maxBy" target="_blank">fonction maxBy</a>
                </li>
                <li>
                    Retournez le prénom le moins donné chez les garçons (1) pour l'année 2014 <a href="https://lodash.com/docs/4.17.15#filter" target="_blank">Utilisation de la fonction filter.</a> + <a href="https://lodash.com/docs/4.17.15#minBy" target="_blank">fonction minBy</a>
                </li>
                <li>
                    Retournez la somme des naissances féminines pour l'année 1994 <a href="https://lodash.com/docs/4.17.15#filter" target="_blank">Utilisation de la fonction filter.</a> + <a href="https://lodash.com/docs/4.17.15#reduce" target="_blank">fonction reduce</a>
                </li>
            </ul>
          </li>
        </ol>
        <p class="note-information">
            Certaines méthodes de lodash, comme <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" target="_blank">"filter"</a> ou <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce" target="_blank">"reduce"</a>, sont disponibles nativement en javascript mais dans le cadre de ce tp, nous utiliserons la version de lodash.
        </p>
      </details>

      <details class="consignes-conteneur">
        <summary>
          <h1 class="h1">
            Pour aller plus loin (cliquer pour afficher / cacher)
          </h1>
        </summary>
        <ul class="liste-consignes">
          <li>
            Réutilisez le code de la partie 2 pour afficher les mêmes graphiques que précédemment, à la différence près que les données ne doivent pas provenir des fichiers "donnees-batons.js" et "donnees-courbe.js" mais des fichiers "jerome.json" et "pauline.json" (présents dans la ressource)
            <ul>
              <li>Pour ce faire, vous devrez impérativement utiliser un serveur WAMP et utiliser l'API fetch de javascript. L'idée est de récupérer le contenu des fichiers via fetch (de façon asynchrone) puis utiliser les données pour afficher les graphiques comme fait précédemment
                <ul>
                  <li><a href="https://developer.mozilla.org/fr/docs/Web/API/Fetch_API" target="_blank" rel="noopener noreferrer">Voir documentation de l'API fetch (ouverture dans un nouvel onglet)</a></li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </details>
    </header>
    <!-- Balise représentant le contenu principal d'un site. Une seule par page -->
    <main class="conteneur"></main>
  </body>
</html>
