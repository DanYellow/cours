<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TP Plugin javascript</title>
    <link rel="stylesheet" href="https://danyellow.net/cours-mmi/reset.css" />
    <link rel="icon" type="image/png" href="https://cyiut.cyu.fr/uas/iut/FAVICON/favicon-iut-cergypontoise_400x400px.png" />

    <link
      rel="stylesheet"
      href="https://danyellow.net/cours-mmi/consignes.css"
    />
    <link rel="stylesheet" href="style.css" />
    <script src="https://danyellow.net/cours-mmi/consignes.js" defer></script>
  </head>

  <body>
    <header class="consignes-en-tete">
      <details class="consignes-conteneur" open>
        <summary>
          <p class="h1">
            Partie 1 (cliquer pour afficher / cacher)
          </p>
        </summary>
        <p class="note-information">chartjs une bibliothèque javascript permettant d'afficher facilement des graphiques à partir de données fournies.</p>

        <ol class="liste-consignes">
            <li>
                Créez un nouveau fichier html (avec la structure de base d'un site
                web. Rappel, vous avez le raccourci "html:5")
              </li>
          <li>
            <a target="_blank" rel="noopener" href="https://www.chartjs.org/docs/latest/getting-started/">
              Suivez le didacticiel de chartjs (ouveture dans un nouvel onglet)</a>
            et affichez quelques graphiques. Une fois suffisamment à
            l'aise avec la bibliothèque passez à la partie suivante.
          </li>
        </ol>
        <p class="note-information">
            N'oubliez pas de mettre en premier le script qui charge chartjs puis votre balise script. Sinon, l'appel des fonctions chartjs lèveront une erreur.
        </p>
      </details>

      <details class="consignes-conteneur">
        <summary>
          <p class="h1">
            Partie 2 (cliquer pour afficher / cacher)
          </p>
        </summary>
        <ol class="liste-consignes">
          <li>
            Utilisez les données du fichier "donnees-courbe.js" et affichez une
            courbe. Le fichier contient l'évolution des naissances du prénom
            Pauline de 1900 à nos jours
            <ul>
              <li>
                <a
                  href="https://www.chartjs.org/docs/latest/charts/line.html"
                  target="_blank"
                >
                  Voir documentation du graphique en courbe de chartjs
                  (ouverture dans un nouvel onglet)
                </a>
                <pre data-code-sample='{"title": "Formattage des données pour courbe", "allowCopy": true}' style="display: block; overflow-x: auto; background: rgb(0, 0, 0); color: rgb(234, 234, 234); padding: 0.5em;"><span style="color: rgb(195, 151, 216);">let</span> nombrePauline = prenomPauline.<span style="color: rgb(195, 151, 216);">map</span>((<span style="color: rgb(231, 140, 69);">item</span>) =&gt; <span style="color: rgb(231, 140, 69);">item</span>.nombre); // Donnée, propriété data
<span style="color: rgb(195, 151, 216);">let</span> anneesPauline = prenomPauline.<span style="color: rgb(195, 151, 216);">map</span>((<span style="color: rgb(231, 140, 69);">item</span>) =&gt; <span style="color: rgb(231, 140, 69);">item</span>.annais); // Libellé, propriété labels</pre>

                Ensuite, il faudra les utiliser pour les bons paramètres pour
                afficher le graphique.
              </li>
            </ul>
          </li>
          <li>
            Utilisez les données du fichier "donnees-batons.js" et affichez un
            graphique en bâtons
            <ul>
              <li>
                <a
                  href="https://www.chartjs.org/docs/latest/charts/bar.html"
                  target="_blank"
                >
                  Voir documentation du graphique en bâtons de chartjs
                  (ouverture dans un nouvel onglet)
                </a>
              </li>
              <li>
                Le fichier contient toutes les naissances du prénom "Jérôme" en
                Ile-de-France durant l'année 2005
                <pre data-code-sample='{"title": "Formattage des données pour diagramme en bâtons", "allowCopy": true}' style="display: block; overflow-x: auto; background: rgb(0, 0, 0); color: rgb(234, 234, 234); padding: 0.5em;"><span style="color: rgb(195, 151, 216);">let</span> nombreJerome = prenomJerome2005.<span style="color: rgb(195, 151, 216);">map</span>((<span style="color: rgb(231, 140, 69);">item</span>) =&gt; <span style="color: rgb(231, 140, 69);">item</span>.nombre);
<span style="color: rgb(195, 151, 216);">let</span> dptJerome = prenomJerome2005.<span style="color: rgb(195, 151, 216);">map</span>((<span style="color: rgb(231, 140, 69);">item</span>) =&gt; <span style="color: rgb(231, 140, 69);">item</span>.dpt);</pre>                Ensuite, il faudra les utiliser pour les bons paramètres pour
                afficher le graphique.
              </li>
            </ul>
          </li>
        </ol>
        <p class="note-information">
            Pensez à charger les scripts contenant les données ("donnees-batons.js" et "donnees-courbe.js") avant votre script chartjs, ainsi vous pourrez accéder aux variables contenues dans les fichiers de données.
        </p>
      </details>

      <details class="consignes-conteneur">
        <summary>
          <p class="h1">
            Partie 3 (cliquer pour afficher / cacher)
          </p>
        </summary>
        <p class="note-information">lodash est une bibliothèque javascript offrant plein de fonctions permettant de manipuler les tableaux ou tableaux d'objets.</p>
        <ol class="liste-consignes">
          <li>
            Chargez la bibliothèque javascript lodash, expérimentez-la en regardant la documentation et en écrivant du code lié au plugin puis passez à la partie suivante
            <ul>
                <li>
                  <p>
                    <a href="https://raw.githubusercontent.com/lodash/lodash/4.17.15-npm/lodash.js" target="_blank">Télécharger lodash (ouverture dans un nouvel onglet)</a>
                  </p>
                  <p class="note-attention">
                  Pensez bien à sauvegarder le contenu du lien dans un fichier, il ne faut pas le charger depuis l'url mais depuis le fichier que vous avez téléchargé.</li>
                  </p>
                <li><a href="https://lodash.com/docs/4.17.15" target="_blank">Voir documentation de lodash (ouverture dans un nouvel onglet)</a></li>
            </ul>
          </li>
          <li>
            Réalisez les tâches suivantes avec le contenu du fichier "lodash-data.js" grâce à lodashjs. Le contenu est accessible via une variable nommée "data". Pensez bien à afficher le résultat grâce à "console.log()"
            <p class="note-information">
                La variable data contient les 10 prénoms les plus donnés en 1996, 2006 et 2016 pour les filles et les garçons en France.
            </p>
            <ul>
                <li>
                    Retournez toutes les naissances de l'année 1996
                    <ul>
                        <li><a href="https://lodash.com/docs/4.17.15#filter" target="_blank">Voir documentation de la fonction filter de lodash</a></li>
                    </ul>
                </li>
                <li>
                    Retournez toutes les naissances dont le nombre de naissances est supérieur à 3 200
                    <ul>
                        <li><a href="https://lodash.com/docs/4.17.15#filter" target="_blank">Voir documentation de la fonction filter de lodash</a></li>
                    </ul>
                </li>
                <li>
                    Retournez le prénom le plus donné chez les filles (2) pour l'année 2006
                    <ul>
                        <li><a href="https://lodash.com/docs/4.17.15#filter" target="_blank">Voir documentation de la fonction filter de lodash</a></li>
                        <li><a href="https://lodash.com/docs/4.17.15#maxBy" target="_blank">Voir documentation de la fonction maxBy de lodash</a></li>
                    </ul>
                </li>
                <li>
                    Retournez le prénom le moins donné chez les garçons (1) pour l'année 2016
                    <ul>
                        <li><a href="https://lodash.com/docs/4.17.15#filter" target="_blank">Voir documentation de la fonction filter de lodash</a></li>
                        <li><a href="https://lodash.com/docs/4.17.15#minBy" target="_blank">Voir documentation de la fonction minBy de lodash</a></li>
                    </ul>
                </li>
                <li>
                    Retournez la somme des naissances féminines pour l'année 1996
                    <ul>
                        <li><a href="https://lodash.com/docs/4.17.15#filter" target="_blank">Voir documentation de la fonction filter de lodash</a></li>
                        <li><a href="https://lodash.com/docs/4.17.15#reduce" target="_blank">Voir documentation de la fonction reduce de lodash</a></li>
                    </ul>
                </li>
            </ul>
          </li>
        </ol>
        <p class="note-information">
            Certaines méthodes de lodash, comme <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" target="_blank">filter</a> ou <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce" target="_blank">reduce</a>, sont disponibles nativement en javascript mais dans le cadre de ce TP, nous utiliserons la version de lodash.
        </p>
      </details>

      <details class="consignes-conteneur">
        <summary>
          <p class="h1">
            Pour aller plus loin (cliquer pour afficher / cacher)
          </p>
        </summary>
        <ul class="liste-consignes">
          <li>
            Réutilisez le code de la partie 2 pour afficher les mêmes graphiques que précédemment, à la différence près que les données ne doivent pas provenir des fichiers "donnees-batons.js" et "donnees-courbe.js" mais des fichiers "jerome.json" et "pauline.json" (présents dans la ressource)
            <ul>
              <li>Pour ce faire, vous devrez impérativement utiliser un serveur WAMP et utiliser l'API fetch de javascript. L'idée est de récupérer le contenu des fichiers via fetch (de façon asynchrone) puis utiliser les données pour afficher les graphiques comme fait précédemment
                <ul>
                  <li><a href="https://developer.mozilla.org/fr/docs/Web/API/Fetch_API" target="_blank" rel="noopener noreferrer">Voir documentation de l'API fetch (ouverture dans un nouvel onglet)</a></li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </details>
    </header>
  </body>
</html>
